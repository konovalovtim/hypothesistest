<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>A/B Sandbox</title>

    <style>
      body { 
        font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; 
        display:flex; 
        min-height:100svh; 
        align-items:center; 
        justify-content:center; 
      }

      .card { 
        padding:24px 28px; 
        border:1px solid #eee; 
        border-radius:12px; 
        box-shadow:0 2px 14px rgba(0,0,0,.06); 
        text-align:center; 
      }

      button { 
        font-size:16px; 
        padding:12px 18px; 
        border-radius:10px; 
        border:0; 
        cursor:pointer; 
        transition: background-color 0.3s ease;
      }

      button.red {
        background-color: red;
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="card">
      <h1>Тест кнопки для A/B</h1>
      <button id="cta">Жми меня</button>
    </div>
        <!-- Hypotests: эксперимент "cta-green-test" -->
<script>
;(function() {
  var config = Object.assign({
    apiBaseUrl: 'https://fn1nw5fw-8080.euw.devtunnels.ms/',
    experimentKey: 'cta-green-test',
    debug: false,
    platform: 'desktop',
    region: 'ru',
    variants: {
      'control': { allocationPercent: 50, name: 'Control', trackEvents: [
        { selector: '#cta', domEvent: 'click', eventType: 'CLICK' }
      ] },
      'variant_green': { allocationPercent: 50, name: 'Green CTA',
        actions: [
        { selector: '#cta', type: 'style', value: '#0FA958', property: 'backgroundColor' }
      ], trackEvents: [
        { selector: '#cta', domEvent: 'click', eventType: 'CLICK' }
      ] }
    }
  }, window.hypotestsConfig || {});

  window.hypotestsConfig = config;

  var bundle = 'LyohIEh5cG90ZXN0cyBTbmlwcGV0IHYwLjIuMCB8IE1JVCBMaWNlbnNlICovCihmdW5jdGlvbiAoKSB7CiAgY29uc3QgVkVSU0lPTiA9ICcwLjIuMCc7CiAgY29uc3QgU1RPUkFHRV9LRVkgPSAnaHlwb3Rlc3RzOnZpc2l0b3JJZCc7CiAgY29uc3QgQ09PS0lFX05BTUUgPSAnaHlwb3Rlc3RzX3ZpZCc7CiAgY29uc3QgQVNTSUdOX0VORFBPSU5UID0gJy9hcGkvdjEvYXNzaWduJzsKICBjb25zdCBFVkVOVF9FTkRQT0lOVCA9ICcvYXBpL3YxL2V2ZW50cyc7CgogIGZ1bmN0aW9uIHJlYWREYXRhc2V0Q29uZmlnKCkgewogICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgcmV0dXJuIHt9OwogICAgfQogICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdDsKICAgIGlmICghc2NyaXB0IHx8ICFzY3JpcHQuZGF0YXNldCkgewogICAgICByZXR1cm4ge307CiAgICB9CiAgICBjb25zdCBkYXRhc2V0ID0gc2NyaXB0LmRhdGFzZXQ7CiAgICBjb25zdCBjb25maWcgPSB7fTsKICAgIGlmIChkYXRhc2V0LmFwaUJhc2UpIHsKICAgICAgY29uZmlnLmFwaUJhc2VVcmwgPSBkYXRhc2V0LmFwaUJhc2U7CiAgICB9CiAgICBpZiAoZGF0YXNldC5leHBlcmltZW50S2V5KSB7CiAgICAgIGNvbmZpZy5leHBlcmltZW50S2V5ID0gZGF0YXNldC5leHBlcmltZW50S2V5OwogICAgfQogICAgaWYgKGRhdGFzZXQucGxhdGZvcm0pIHsKICAgICAgY29uZmlnLnBsYXRmb3JtID0gZGF0YXNldC5wbGF0Zm9ybTsKICAgIH0KICAgIGlmIChkYXRhc2V0LnJlZ2lvbikgewogICAgICBjb25maWcucmVnaW9uID0gZGF0YXNldC5yZWdpb247CiAgICB9CiAgICBpZiAoZGF0YXNldC5kZWJ1ZykgewogICAgICBjb25maWcuZGVidWcgPSBkYXRhc2V0LmRlYnVnID09PSAndHJ1ZSc7CiAgICB9CiAgICByZXR1cm4gY29uZmlnOwogIH0KCiAgZnVuY3Rpb24gbWVyZ2VDb25maWcoKSB7CiAgICBjb25zdCBkZWZhdWx0cyA9IHsKICAgICAgYXBpQmFzZVVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcsCiAgICAgIGFzc2lnbkVuZHBvaW50OiBBU1NJR05fRU5EUE9JTlQsCiAgICAgIGV2ZW50RW5kcG9pbnQ6IEVWRU5UX0VORFBPSU5ULAogICAgICBkZWJ1ZzogZmFsc2UsCiAgICAgIHZhcmlhbnRzOiB7fSwKICAgIH07CiAgICBjb25zdCBnbG9iYWxDb25maWcgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgKHdpbmRvdy5oeXBvdGVzdHNDb25maWcgfHwgd2luZG93Ll9faHlwb3Rlc3RzQ29uZmlnKSkgfHwge307CiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIGdsb2JhbENvbmZpZywgcmVhZERhdGFzZXRDb25maWcoKSk7CiAgfQoKICBmdW5jdGlvbiBkZWJ1Z0xvZyhjb25maWcsIC4uLmFyZ3MpIHsKICAgIGlmIChjb25maWcuZGVidWcgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgIGNvbnNvbGUubG9nKCdbSHlwb3Rlc3RzXScsIC4uLmFyZ3MpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FybiguLi5hcmdzKSB7CiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUud2FybikgewogICAgICBjb25zb2xlLndhcm4oJ1tIeXBvdGVzdHNdJywgLi4uYXJncyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiByZWFkQ29va2llKG5hbWUpIHsKICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgY29uc3QgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKD86Xnw7ICknICsgbmFtZS5yZXBsYWNlKC8oWy4kPyp8e30oKVxcW1xcXVxcXFwvK15dKS9nLCAnXFwkMScpICsgJz0oW147XSopJykpOwogICAgcmV0dXJuIG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSA6IG51bGw7CiAgfQoKICBmdW5jdGlvbiB3cml0ZUNvb2tpZShuYW1lLCB2YWx1ZSkgewogICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgZXhwaXJlcyA9IG5ldyBEYXRlKERhdGUubm93KCkgKyAzNjUgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b1VUQ1N0cmluZygpOwogICAgZG9jdW1lbnQuY29va2llID0gYCR7bmFtZX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfTsgcGF0aD0vOyBleHBpcmVzPSR7ZXhwaXJlc307IFNhbWVTaXRlPUxheGA7CiAgfQoKICBmdW5jdGlvbiByZWFkU3RvcmFnZShrZXkpIHsKICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHRyeSB7CiAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd3JpdGVTdG9yYWdlKGtleSwgdmFsdWUpIHsKICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgewogICAgICByZXR1cm47CiAgICB9CiAgICB0cnkgewogICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAvKiBpZ25vcmUgKi8KICAgIH0KICB9CgogIGZ1bmN0aW9uIHJhbmRvbUlkKCkgewogICAgaWYgKHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5yYW5kb21VVUlEKSB7CiAgICAgIHJldHVybiBjcnlwdG8ucmFuZG9tVVVJRCgpOwogICAgfQogICAgY29uc3Qgc3VmZml4ID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc2xpY2UoMik7CiAgICByZXR1cm4gYCR7RGF0ZS5ub3coKS50b1N0cmluZygxNil9LSR7c3VmZml4fWA7CiAgfQoKICBmdW5jdGlvbiByZXNvbHZlVmlzaXRvcklkKCkgewogICAgbGV0IGlkID0gcmVhZFN0b3JhZ2UoU1RPUkFHRV9LRVkpOwogICAgaWYgKGlkKSB7CiAgICAgIHJldHVybiBpZDsKICAgIH0KICAgIGlkID0gcmVhZENvb2tpZShDT09LSUVfTkFNRSk7CiAgICBpZiAoaWQpIHsKICAgICAgd3JpdGVTdG9yYWdlKFNUT1JBR0VfS0VZLCBpZCk7CiAgICAgIHJldHVybiBpZDsKICAgIH0KICAgIGlkID0gcmFuZG9tSWQoKTsKICAgIHdyaXRlU3RvcmFnZShTVE9SQUdFX0tFWSwgaWQpOwogICAgd3JpdGVDb29raWUoQ09PS0lFX05BTUUsIGlkKTsKICAgIHJldHVybiBpZDsKICB9CgogIGZ1bmN0aW9uIGRldGVjdFBsYXRmb3JtKCkgewogICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgIHJldHVybiAnZGVza3RvcCc7CiAgICB9CiAgICByZXR1cm4gL01vYml8QW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCAnJykgPyAnbW9iaWxlJyA6ICdkZXNrdG9wJzsKICB9CgogIGZ1bmN0aW9uIHJlc29sdmVVcmwoYmFzZSwgcGF0aCkgewogICAgaWYgKCFwYXRoKSB7CiAgICAgIHJldHVybiBiYXNlOwogICAgfQogICAgaWYgKC9eaHR0cHM/OlwvXC8vaS50ZXN0KHBhdGgpKSB7CiAgICAgIHJldHVybiBwYXRoOwogICAgfQogICAgaWYgKCFiYXNlKSB7CiAgICAgIHJldHVybiBwYXRoOwogICAgfQogICAgdHJ5IHsKICAgICAgcmV0dXJuIG5ldyBVUkwocGF0aCwgYmFzZSkudG9TdHJpbmcoKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnN0IGJhc2VFbmRzV2l0aFNsYXNoID0gYmFzZS5lbmRzV2l0aCgnLycpOwogICAgICBjb25zdCBwYXRoU3RhcnRzV2l0aFNsYXNoID0gcGF0aC5zdGFydHNXaXRoKCcvJyk7CiAgICAgIGlmIChiYXNlRW5kc1dpdGhTbGFzaCAmJiBwYXRoU3RhcnRzV2l0aFNsYXNoKSB7CiAgICAgICAgcmV0dXJuIGJhc2UgKyBwYXRoLnNsaWNlKDEpOwogICAgICB9CiAgICAgIGlmICghYmFzZUVuZHNXaXRoU2xhc2ggJiYgIXBhdGhTdGFydHNXaXRoU2xhc2gpIHsKICAgICAgICByZXR1cm4gYCR7YmFzZX0vJHtwYXRofWA7CiAgICAgIH0KICAgICAgcmV0dXJuIGJhc2UgKyBwYXRoOwogICAgfQogIH0KCiAgYXN5bmMgZnVuY3Rpb24gcmVxdWVzdEFzc2lnbm1lbnQoY29uZmlnLCB2aXNpdG9ySWQsIHBsYXRmb3JtLCByZWdpb24pIHsKICAgIGNvbnN0IHVybCA9IHJlc29sdmVVcmwoY29uZmlnLmFwaUJhc2VVcmwsIGNvbmZpZy5hc3NpZ25FbmRwb2ludCk7CiAgICBjb25zdCBib2R5ID0gewogICAgICBleHBlcmltZW50S2V5OiBjb25maWcuZXhwZXJpbWVudEtleSwKICAgICAgdmlzaXRvcklkLAogICAgICBwbGF0Zm9ybSwKICAgICAgcmVnaW9uLAogICAgfTsKICAgIGRlYnVnTG9nKGNvbmZpZywgJ1JlcXVlc3QgYXNzaWdubWVudCcsIGJvZHksIHVybCk7CiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgewogICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sCiAgICAgIGtlZXBhbGl2ZTogdHJ1ZSwKICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksCiAgICB9KTsKICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKGBBc3NpZ25tZW50IGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gKTsKICAgIH0KICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICBkZWJ1Z0xvZyhjb25maWcsICdSZWNlaXZlZCBhc3NpZ25tZW50JywgcGF5bG9hZCk7CiAgICByZXR1cm4gcGF5bG9hZDsKICB9CgogIGZ1bmN0aW9uIHRvVHJhY2tlZEV2ZW50cyhjb25maWdWYXJpYW50KSB7CiAgICBpZiAoIWNvbmZpZ1ZhcmlhbnQpIHsKICAgICAgcmV0dXJuIFtdOwogICAgfQogICAgaWYgKEFycmF5LmlzQXJyYXkoY29uZmlnVmFyaWFudC50cmFja0V2ZW50cykpIHsKICAgICAgcmV0dXJuIGNvbmZpZ1ZhcmlhbnQudHJhY2tFdmVudHM7CiAgICB9CiAgICBpZiAoQXJyYXkuaXNBcnJheShjb25maWdWYXJpYW50LnRyYWNrQ2xpY2tzKSkgewogICAgICByZXR1cm4gY29uZmlnVmFyaWFudC50cmFja0NsaWNrcy5tYXAoKHNlbGVjdG9yKSA9PiAoewogICAgICAgIHNlbGVjdG9yLAogICAgICAgIGRvbUV2ZW50OiAnY2xpY2snLAogICAgICAgIGV2ZW50VHlwZTogJ0NMSUNLJywKICAgICAgfSkpOwogICAgfQogICAgcmV0dXJuIFtdOwogIH0KCiAgZnVuY3Rpb24gc2VuZEV2ZW50KGNvbmZpZywgYXNzaWdubWVudCwgdmlzaXRvcklkLCBldmVudFR5cGUsIGV4dHJhKSB7CiAgICBjb25zdCB1cmwgPSByZXNvbHZlVXJsKGNvbmZpZy5hcGlCYXNlVXJsLCBjb25maWcuZXZlbnRFbmRwb2ludCk7CiAgICBjb25zdCBwYXlsb2FkID0gT2JqZWN0LmFzc2lnbigKICAgICAgICB7CiAgICAgICAgICBleHBlcmltZW50S2V5OiBhc3NpZ25tZW50LmV4cGVyaW1lbnRLZXksCiAgICAgICAgICB2YXJpYW50S2V5OiBhc3NpZ25tZW50LnZhcmlhbnRLZXksCiAgICAgICAgICB2aXNpdG9ySWQsCiAgICAgICAgICBldmVudFR5cGUsCiAgICAgICAgICB1c2VyQWdlbnQ6IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnID8gbmF2aWdhdG9yLnVzZXJBZ2VudCA6IHVuZGVmaW5lZCwKICAgICAgICAgIHJlZ2lvbjogY29uZmlnLnJlZ2lvbiwKICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLAogICAgICAgIH0sCiAgICAgICAgZXh0cmEgfHwge30KICAgICk7CiAgICBkZWJ1Z0xvZyhjb25maWcsICdTZW5kIGV2ZW50JywgcGF5bG9hZCwgdXJsKTsKICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBKU09OLnN0cmluZ2lmeShwYXlsb2FkKTsKICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbikgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbc2VyaWFsaXplZF0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pOwogICAgICAgIG5hdmlnYXRvci5zZW5kQmVhY29uKHVybCwgYmxvYik7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHdhcm4oJ3NlbmRCZWFjb24gZmFpbGVkLCBmYWxsYmFjayB0byBmZXRjaCcsIGVycm9yKTsKICAgICAgfQogICAgfQogICAgZmV0Y2godXJsLCB7CiAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSwKICAgICAga2VlcGFsaXZlOiB0cnVlLAogICAgICBib2R5OiBzZXJpYWxpemVkLAogICAgfSkuY2F0Y2goKGVycm9yKSA9PiB3YXJuKCdGZXRjaCBldmVudCBmYWlsZWQnLCBlcnJvcikpOwogIH0KCiAgZnVuY3Rpb24gYXBwbHlBY3Rpb25zKGNvbmZpZywgYWN0aW9ucywgdmFyaWFudEtleSkgewogICAgaWYgKCFBcnJheS5pc0FycmF5KGFjdGlvbnMpKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGFjdGlvbnMuZm9yRWFjaCgoYWN0aW9uKSA9PiB7CiAgICAgIGlmICghYWN0aW9uIHx8ICFhY3Rpb24uc2VsZWN0b3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWN0aW9uLnNlbGVjdG9yKTsKICAgICAgaWYgKCFlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHsKICAgICAgICBjYXNlICd0ZXh0JzoKICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBhY3Rpb24udmFsdWU7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdodG1sJzoKICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gYWN0aW9uLnZhbHVlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYXR0cmlidXRlJzoKICAgICAgICAgIGlmIChhY3Rpb24ubmFtZSkgewogICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhY3Rpb24ubmFtZSwgYWN0aW9uLnZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3N0eWxlJzoKICAgICAgICAgIGlmIChhY3Rpb24ucHJvcGVydHkpIHsKICAgICAgICAgICAgZWxlbWVudC5zdHlsZVthY3Rpb24ucHJvcGVydHldID0gYWN0aW9uLnZhbHVlOwogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnY2xhc3M6YWRkJzoKICAgICAgICAgIGlmIChhY3Rpb24udmFsdWUpIHsKICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGFjdGlvbi52YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdjbGFzczpyZW1vdmUnOgogICAgICAgICAgaWYgKGFjdGlvbi52YWx1ZSkgewogICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYWN0aW9uLnZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICB3YXJuKCdVbmtub3duIGFjdGlvbiB0eXBlJywgYWN0aW9uLCB2YXJpYW50S2V5KTsKICAgICAgfQogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBhdHRhY2hUcmFja2VkRXZlbnRzKGNvbmZpZywgZXZlbnRzLCBhc3NpZ25tZW50LCB2aXNpdG9ySWQsIHJlZ2lzdHJ5KSB7CiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXZlbnRzKSkgewogICAgICByZXR1cm47CiAgICB9CiAgICBldmVudHMuZm9yRWFjaCgoZXZlbnRDb25maWcpID0+IHsKICAgICAgaWYgKCFldmVudENvbmZpZyB8fCAhZXZlbnRDb25maWcuc2VsZWN0b3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZXZlbnRDb25maWcuc2VsZWN0b3IpOwogICAgICBpZiAoIWVsZW1lbnQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgZG9tRXZlbnQgPSAoZXZlbnRDb25maWcuZG9tRXZlbnQgfHwgJ2NsaWNrJykudG9Mb3dlckNhc2UoKTsKICAgICAgY29uc3QgYnVzaW5lc3NFdmVudCA9IChldmVudENvbmZpZy5ldmVudFR5cGUgfHwgJ0NMSUNLJykudG9VcHBlckNhc2UoKTsKICAgICAgY29uc3QgaGFuZGxlciA9ICgpID0+IHNlbmRFdmVudChjb25maWcsIGFzc2lnbm1lbnQsIHZpc2l0b3JJZCwgYnVzaW5lc3NFdmVudCk7CiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihkb21FdmVudCwgaGFuZGxlcik7CiAgICAgIHJlZ2lzdHJ5LnB1c2goKCkgPT4gZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGRvbUV2ZW50LCBoYW5kbGVyKSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGRvbVJlYWR5KGNhbGxiYWNrKSB7CiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykgewogICAgICByZXR1cm47CiAgICB9CiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjYWxsYmFjaywgeyBvbmNlOiB0cnVlIH0pOwogICAgfSBlbHNlIHsKICAgICAgY2FsbGJhY2soKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGRldGVjdFJlZ2lvbihjb25maWcpIHsKICAgIGlmIChjb25maWcucmVnaW9uKSB7CiAgICAgIHJldHVybiBjb25maWcucmVnaW9uOwogICAgfQogICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0KICAgIGNvbnN0IG1ldGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJoeXBvdGVzdHMtcmVnaW9uXCJdJyk7CiAgICByZXR1cm4gbWV0YSAmJiBtZXRhLmNvbnRlbnQgPyBtZXRhLmNvbnRlbnQgOiB1bmRlZmluZWQ7CiAgfQoKICBmdW5jdGlvbiBidWlsZFB1YmxpY0FwaShzdGF0ZSwgY29uZmlnLCB2aXNpdG9ySWQsIHBsYXRmb3JtLCByZWdpb24pIHsKICAgIHJldHVybiB7CiAgICAgIHZlcnNpb246IFZFUlNJT04sCiAgICAgIHZpc2l0b3JJZCwKICAgICAgZ2V0IGFzc2lnbm1lbnQoKSB7CiAgICAgICAgcmV0dXJuIHN0YXRlLmFzc2lnbm1lbnQ7CiAgICAgIH0sCiAgICAgIGFzeW5jIHJlc2V0QXNzaWdubWVudCgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgc3RhdGUuYXNzaWdubWVudCA9IGF3YWl0IHJlcXVlc3RBc3NpZ25tZW50KGNvbmZpZywgdmlzaXRvcklkLCBwbGF0Zm9ybSwgcmVnaW9uKTsKICAgICAgICAgIGRlYnVnTG9nKGNvbmZpZywgJ0Fzc2lnbm1lbnQgcmVmcmVzaGVkJywgc3RhdGUuYXNzaWdubWVudCk7CiAgICAgICAgICBhcHBseVZhcmlhbnQoc3RhdGUsIGNvbmZpZywgdmlzaXRvcklkKTsKICAgICAgICAgIHNlbmRFdmVudChjb25maWcsIHN0YXRlLmFzc2lnbm1lbnQsIHZpc2l0b3JJZCwgJ0lNUFJFU1NJT04nKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgd2FybignRmFpbGVkIHRvIHJlYXNzaWduIHZhcmlhbnQnLCBlcnJvcik7CiAgICAgICAgfQogICAgICB9LAogICAgICB0cmFja0NvbnZlcnNpb24oZXh0cmEpIHsKICAgICAgICBpZiAoIXN0YXRlLmFzc2lnbm1lbnQpIHsKICAgICAgICAgIHdhcm4oJ0NvbnZlcnNpb24gaWdub3JlZCwgbm8gYXNzaWdubWVudCB5ZXQnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgc2VuZEV2ZW50KGNvbmZpZywgc3RhdGUuYXNzaWdubWVudCwgdmlzaXRvcklkLCAnQ09OVkVSU0lPTicsIGV4dHJhKTsKICAgICAgfSwKICAgIH07CiAgfQoKICBmdW5jdGlvbiBhcHBseVZhcmlhbnQoc3RhdGUsIGNvbmZpZywgdmlzaXRvcklkKSB7CiAgICBkb21SZWFkeSgoKSA9PiB7CiAgICAgIGlmICghc3RhdGUuYXNzaWdubWVudCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCB2YXJpYW50Q29uZmlnID0gKGNvbmZpZy52YXJpYW50cyAmJiBjb25maWcudmFyaWFudHNbc3RhdGUuYXNzaWdubWVudC52YXJpYW50S2V5XSkgfHwge307CiAgICAgIGNvbnN0IHRyYWNrZWRFdmVudHMgPSB0b1RyYWNrZWRFdmVudHModmFyaWFudENvbmZpZyk7CiAgICAgIGlmIChzdGF0ZS5kZXRhY2hMaXN0ZW5lcnMubGVuZ3RoKSB7CiAgICAgICAgc3RhdGUuZGV0YWNoTGlzdGVuZXJzLmZvckVhY2goKGZuKSA9PiBmbigpKTsKICAgICAgICBzdGF0ZS5kZXRhY2hMaXN0ZW5lcnMgPSBbXTsKICAgICAgfQogICAgICBhcHBseUFjdGlvbnMoY29uZmlnLCB2YXJpYW50Q29uZmlnLmFjdGlvbnMsIHN0YXRlLmFzc2lnbm1lbnQudmFyaWFudEtleSk7CiAgICAgIGF0dGFjaFRyYWNrZWRFdmVudHMoY29uZmlnLCB0cmFja2VkRXZlbnRzLCBzdGF0ZS5hc3NpZ25tZW50LCB2aXNpdG9ySWQsIHN0YXRlLmRldGFjaExpc3RlbmVycyk7CiAgICAgIGlmICh0eXBlb2YgdmFyaWFudENvbmZpZy5vbkFwcGxpZWQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyaWFudENvbmZpZy5vbkFwcGxpZWQoc3RhdGUuYXNzaWdubWVudCwgY29uZmlnLCB2aXNpdG9ySWQpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICB3YXJuKCdWYXJpYW50IG9uQXBwbGllZCB0aHJldyBhbiBlcnJvcicsIGVycm9yKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KCiAgYXN5bmMgZnVuY3Rpb24gYm9vdHN0cmFwKCkgewogICAgY29uc3QgY29uZmlnID0gbWVyZ2VDb25maWcoKTsKICAgIGlmICghY29uZmlnLmV4cGVyaW1lbnRLZXkpIHsKICAgICAgd2FybignZXhwZXJpbWVudEtleSBpcyBub3QgY29uZmlndXJlZCcpOwogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgdmlzaXRvcklkID0gcmVzb2x2ZVZpc2l0b3JJZCgpOwogICAgY29uc3QgcGxhdGZvcm0gPSBjb25maWcucGxhdGZvcm0gfHwgZGV0ZWN0UGxhdGZvcm0oKTsKICAgIGNvbnN0IHJlZ2lvbiA9IGRldGVjdFJlZ2lvbihjb25maWcpOwogICAgY29uZmlnLnBsYXRmb3JtID0gcGxhdGZvcm07CiAgICBpZiAocmVnaW9uKSB7CiAgICAgIGNvbmZpZy5yZWdpb24gPSByZWdpb247CiAgICB9CgogICAgY29uc3Qgc3RhdGUgPSB7CiAgICAgIGFzc2lnbm1lbnQ6IG51bGwsCiAgICAgIGRldGFjaExpc3RlbmVyczogW10sCiAgICB9OwoKICAgIGNvbnN0IHB1YmxpY0FwaSA9IGJ1aWxkUHVibGljQXBpKHN0YXRlLCBjb25maWcsIHZpc2l0b3JJZCwgcGxhdGZvcm0sIHJlZ2lvbik7CiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgd2luZG93Lmh5cG90ZXN0cyA9IHB1YmxpY0FwaTsKICAgIH0KCiAgICB0cnkgewogICAgICBzdGF0ZS5hc3NpZ25tZW50ID0gYXdhaXQgcmVxdWVzdEFzc2lnbm1lbnQoY29uZmlnLCB2aXNpdG9ySWQsIHBsYXRmb3JtLCByZWdpb24pOwogICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgQXJyYXkuaXNBcnJheSh3aW5kb3cuZGF0YUxheWVyKSkgewogICAgICAgIHdpbmRvdy5kYXRhTGF5ZXIucHVzaCh7CiAgICAgICAgICBldmVudDogJ2h5cG90ZXN0c19hc3NpZ25tZW50JywKICAgICAgICAgIGV4cGVyaW1lbnRLZXk6IHN0YXRlLmFzc2lnbm1lbnQuZXhwZXJpbWVudEtleSwKICAgICAgICAgIHZhcmlhbnRLZXk6IHN0YXRlLmFzc2lnbm1lbnQudmFyaWFudEtleSwKICAgICAgICB9KTsKICAgICAgfQogICAgICBhcHBseVZhcmlhbnQoc3RhdGUsIGNvbmZpZywgdmlzaXRvcklkKTsKICAgICAgc2VuZEV2ZW50KGNvbmZpZywgc3RhdGUuYXNzaWdubWVudCwgdmlzaXRvcklkLCAnSU1QUkVTU0lPTicpOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgd2FybignRmFpbGVkIHRvIGFzc2lnbiB2YXJpYW50JywgZXJyb3IpOwogICAgfQogIH0KCiAgYm9vdHN0cmFwKCk7Cn0pKCk7Cg==';
  var decode = typeof window !== 'undefined' && window.atob ? window.atob : (typeof atob === 'function' ? atob : null);
  if (!decode) { throw new Error('Base64 decoder is not available in this environment'); }
  var decoded = decode(bundle);
  (new Function(decoded))();
})();
</script>
    <script>
      const btn = document.getElementById('cta');
      btn.addEventListener('click', () => {
        btn.classList.toggle('red');
      });
    </script>
   </body>
</html>
